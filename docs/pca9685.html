<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="Q. Serrano">
<title>Controladora de Servos de 16 canals Adafruit PCA9685</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Controladora de Servos de 16 canals Adafruit PCA9685</h1>
<div class="details">
<span id="author" class="author">Q. Serrano</span><br>
<span id="email" class="email"><a href="mailto:qserrano@protonmail.com">qserrano@protonmail.com</a></span><br>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Traducció de Adafruit PCA9685 16-Channel Servo Driver By Bill Earl <a href="https://learn.adafruit.com/16-channel-pwm-servo-driver/library-reference?view=all" class="bare">https://learn.adafruit.com/16-channel-pwm-servo-driver/library-reference?view=all</a></p>
</div>
</div>
</div>
<div id="img-pca9685-01" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig01.png" alt="Servos">
</div>
<div class="title">Figure 1. Servos</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_visió_general">Visió general</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controlar servomotors amb la biblioteca Arduino Servo és bastant fàcil, però cadascun consumeix un pin preciós, per no parlar de la potència de processament d&#8217;Arduino. El controlador PWM/Servo Adafruit de 16 canals de 12 bits conduirà fins a 16 servos per I2C amb només 2 pins. El controlador PWM integrat conduirà els 16 canals simultàniament sense cap sobrecàrrega addicional de processament d&#8217;Arduino. A més, podeu encadenar fins a 62 d&#8217;ells per controlar fins a 992 servos, tots amb els mateixos 2 pins!</p>
</div>
<div class="paragraph">
<p>L&#8217;Adafruit PWM/Servo Driver és la solució perfecta per a qualsevol projecte que requereixi molts servos.</p>
</div>
<div id="img-pca9685-02" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig02.png" alt="Exemple">
</div>
<div class="title">Figure 2. Exemple de projecte</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connexions">Connexions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hi ha dos conjunts de pins d&#8217;entrada de control a banda i banda. Els dos costats dels pins són idèntics! Utilitzeu el costat que vulgueu, també podeu encadenar fàcilment connectant-ne dos un al costat de l&#8217;altre.</p>
</div>
<div id="img-pca9685-03" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig03.png" alt="Connectors i pins">
</div>
<div class="title">Figure 3. Connectors i pins</div>
</div>
<div class="sect2">
<h3 id="_pins_dalimentació">Pins d&#8217;alimentació</h3>
<div class="ulist">
<ul>
<li>
<p>GND: aquest és el pin de terra d&#8217;alimentació i senyal, s&#8217;ha de connectar</p>
</li>
<li>
<p>VCC: aquest és el pin d&#8217;alimentació lògica, connecteu-lo al nivell lògic que voleu utilitzar per a la sortida PCA9685, hauria de ser de 3 a 5V màxim. També s&#8217;utilitza per als 10K pullups en SCL/SDA, de manera que tret que tingueu els vostres propis pullups, feu que coincideixi també amb el nivell lògic del microcontrolador.</p>
</li>
<li>
<p>V+: aquest és un pin d&#8217;alimentació opcional que subministrarà energia distribuïda als servos. Si no feu servir per a servos, podeu deixar-lo desconnectat. El xip no l&#8217;utilitza gens. També podeu injectar energia des del bloc de terminals de 2 pins a la part superior de la placa. Hauríeu de proporcionar 5-6VDC si feu servir servos. Si heu de fer-ho, podeu pujar a 12 VDC, però si us enganyeu i connecteu VCC a V+, podríeu danyar el vostre tauler!</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_pins_de_control">Pins de control</h3>
<div class="ulist">
<ul>
<li>
<p>SCL - Pin de rellotge I2C, connecteu-lo a la línia de rellotge I2C dels vostres microcontroladors. Pot utilitzar la lògica de 3V o 5V i té un augment feble de VCC</p>
</li>
<li>
<p>SDA - Pin de dades I2C, connecteu-lo a la línia de dades I2C dels vostres microcontroladors. Pot utilitzar la lògica de 3V o 5V i té un augment feble de VCC</p>
</li>
<li>
<p>OE - Habilitació de sortida. Es pot utilitzar per desactivar ràpidament totes les sortides. Quan aquest pin és baix, tots els pins estan habilitats. Quan el pin és alt, les sortides estan desactivades. Estat baix per defecte, així que és un pin opcional!</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ports_de_sortida">Ports de sortida</h3>
<div class="paragraph">
<p>Hi ha 16 ports de sortida. Cada port té 3 pins: V+, GND i la sortida PWM. Cada PWM funciona de manera totalment independent, però tots han de tenir la mateixa freqüència PWM. És a dir, per als LED probablement voleu 1,0 KHz, però els servos necessiten 60 Hz, de manera que no podeu utilitzar la meitat per als LED a 1,0 KHz i la meitat a 60 Hz.</p>
</div>
<div class="paragraph">
<p>Estan configurats per a servos, però els podeu utilitzar per a LED! El corrent màxim per pin és de 25 mA.</p>
</div>
<div class="paragraph">
<p>Hi ha resistències de 220 ohms en sèrie amb tots els pins PWM i la lògica de sortida és la mateixa que VCC, així que tingueu-ho en compte si feu servir LED.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_muntatge">Muntatge</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Instal·leu els connectors de servo</strong></p>
</div>
<div class="paragraph">
<p>Instal·leu 4 connectors mascle de 3x4 pins a les posicions marcades al llarg de la vora del tauler.</p>
</div>
<div id="img-pca9685-04" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig04-muntatge%20pins.png" alt="Muntatge dels pins">
</div>
<div class="title">Figure 4. Muntatge dels pins</div>
</div>
<div class="paragraph">
<p><strong>Soldar tots els pins</strong></p>
</div>
<div class="paragraph">
<p>N&#8217;hi ha molts!</p>
</div>
<div id="img-pca9685-05" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig05-soldar%20pins.png" alt="Soldar pins">
</div>
<div class="title">Figure 5. Soldar pins</div>
</div>
<div class="paragraph">
<p><strong>Afegiu capçaleres per al control</strong></p>
</div>
<div class="paragraph">
<p>S&#8217;inclou una tira de capçalera mascle. On voleu instal·lar les capçaleres i de quin costat depèn una mica de l&#8217;ús:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Per utilitzar la placa de prova, instal·leu capçaleres a la part inferior de la placa.</p>
</li>
<li>
<p>Per utilitzar-lo amb cables de pont, instal·leu les capçaleres a la part superior del tauler.</p>
</li>
<li>
<p>Per utilitzar-lo amb el nostre cable de 6 pins, instal·leu les capçaleres a la part superior de la placa.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si esteu encadenant diverses plaques de controladors, voldreu capçaleres als dos extrems.</p>
</div>
<div id="img-pca9685-06" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig06-capçalera%20control.png" alt="Pins de control">
</div>
<div class="title">Figure 6. Pins de control</div>
</div>
<div class="paragraph">
<p><strong>Instal·leu terminals d&#8217;alimentació</strong></p>
</div>
<div class="paragraph">
<p>Si esteu encadenant diverses plaques de controladors, només necessiteu un terminal d&#8217;alimentació a la primera.</p>
</div>
<div id="img-pca9685-07" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig07-terminal%20alimentacio.png" alt="Terminals d&#8217;alimentació">
</div>
<div class="title">Figure 7. Terminals d&#8217;alimentació</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connexionat">Connexionat</h2>
<div class="sectionbody">
<div id="img-pca9685-08" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig08-cablejat.png" alt="Cablejat">
</div>
<div class="title">Figure 8. Cablejat</div>
</div>
<div class="sect2">
<h3 id="_connexió_a_larduino">Connexió a l&#8217;Arduino</h3>
<div class="paragraph">
<p>El controlador PWM/Servo utilitza I2C, de manera que només calen 4 cables per connectar-se al vostre Arduino:</p>
</div>
<div class="paragraph">
<p><strong>Cablejat Arduino "clàssic":</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>+5v &#8594; VCC (només és alimentació per a la placa de components, NO del servo!)</p>
</li>
<li>
<p>GND &#8594; GND</p>
</li>
<li>
<p>Analògic 4 &#8594; SDA</p>
</li>
<li>
<p>Analògic 5 &#8594; SCL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Cablejat Mega antic:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>+5v &#8594; VCC (només és alimentació per a la placa de components, NO del servo!)</p>
</li>
<li>
<p>GND &#8594; GND</p>
</li>
<li>
<p>Digital 20 &#8594; SDA</p>
</li>
<li>
<p>Digital 21 &#8594; SCL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Cablejat Arduino R3 i posterior (Uno, Mega i Leonardo):</strong></p>
</div>
<div class="paragraph">
<p>(Aquestes plaques tenen pins SDA i SCL dedicats a la capçalera més propera al connector USB)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>+5v &#8594; VCC (només és alimentació per a la placa de components, NO del servo!)</p>
</li>
<li>
<p>GND &#8594; GND</p>
</li>
<li>
<p>SDA &#8594; SDA</p>
</li>
<li>
<p>SCL &#8594; SCL</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">ATENCIÓ</div>
<div class="paragraph">
<p>El pin VCC és només energia per al propi xip. Si voleu connectar servos o LED que utilitzen els pins V+, també HEU de connectar el pin V+. El pin V+ pot arribar a 6 V fins i tot si VCC és de 3,3 V (el xip és segur de 5 V). Suggerim connectar l&#8217;alimentació a través del bloc de terminals blau, ja que està protegit contra la polaritat.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alimentació_per_als_servos">Alimentació per als servos</h2>
<div class="sectionbody">
<div id="img-pca9685-09" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig09-alimentacio%20servo.png" alt="Alimentació servos">
</div>
<div class="title">Figure 9. Alimentació servos</div>
</div>
<div class="paragraph">
<p>La majoria dels servos estan dissenyats per funcionar amb uns 5 o 6v. Tingueu en compte que molts servos que es mouen al mateix temps (especialment els grans potents) necessitaran molta corrent. Fins i tot els micro servos dibuixaran diversos centenars de mA quan es mouen. Alguns servos de par alt consumiran més d'1 A cadascun sota càrrega.</p>
</div>
<div class="paragraph">
<p>Les bones opcions de poder són:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Font d&#8217;alimentació commutada 5v 2A</p>
</li>
<li>
<p>Font d&#8217;alimentació commutada 5v 10A</p>
</li>
<li>
<p>Suport de piles 4xAA - 6v amb cèl·lules alcalines. 4,8 v amb cèl·lules recarregables NiMH.</p>
</li>
<li>
<p>Paquets de bateries RC recarregables de 4,8 o 6 V d&#8217;una botiga d&#8217;aficions.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">ATENCIÓ</div>
<div class="paragraph">
<p>No és una bona idea utilitzar el pin Arduino 5v per alimentar els vostres servos. El soroll elèctric i els "apagats" de l&#8217;excés de consum de corrent poden fer que el vostre Arduino actuï de manera erràtica, es reiniciï i/o s&#8217;escalfi.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connexió_dun_servo">Connexió d&#8217;un servo</h2>
<div class="sectionbody">
<div id="img-pca9685-10" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig10-connexio%20servo.png" alt="Connexió de servos">
</div>
<div class="title">Figure 10. Connexió d&#8217;un servo</div>
</div>
<div class="paragraph">
<p>La majoria dels servos vénen amb un connector femella estàndard de 3 pins que es connectarà directament a les capçaleres del servocontrolador. Assegureu-vos d&#8217;alinear l&#8217;endoll amb el cable de terra (normalment negre o marró) amb la fila inferior i el cable de senyal (generalment groc o blanc) a la part superior.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_afegeix_més_servos">Afegeix més servos</h2>
<div class="sectionbody">
<div id="img-pca9685-11" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig11-afegir%20servo.png" alt="Afegir més servos">
</div>
<div class="title">Figure 11. Afegeix més servos</div>
</div>
<div class="paragraph">
<p>Es poden connectar fins a 16 servos a una placa. Si necessiteu controlar més de 16 servos, es poden encadenar taulers addicionals tal com es descriu al punt següent.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_controladors_encadenats">Controladors encadenats</h2>
<div class="sectionbody">
<div id="img-pca9685-12" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig12-afegir%20controladors.png" alt="Controladors encadenats">
</div>
<div class="title">Figure 12. Controladors encadenats</div>
</div>
<div class="paragraph">
<p>Es poden encadenar diversos controladors (fins a 62) per controlar encara més servos. Amb les capçaleres als dos extrems del tauler, el cablejat és tan senzill com connectar un cable paral·lel de 6 pins d&#8217;un tauler a l&#8217;altre.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adreçar_les_plaques">Adreçar les plaques</h2>
<div class="sectionbody">
<div id="img-pca9685-13" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig13-adreçar%20placa.png" alt="Adreçar les plaques">
</div>
<div class="title">Figure 13. Adreçar les plaques</div>
</div>
<div class="paragraph">
<p>A cada placa de la cadena se li ha d&#8217;assignar una adreça única. Això es fa amb els ponts d&#8217;adreces a la vora superior dreta del tauler. L&#8217;adreça base I2C per a cada placa és 0x40. L&#8217;adreça binària que programeu amb els ponts d&#8217;adreça s&#8217;afegeix a l&#8217;adreça I2C base.</p>
</div>
<div class="paragraph">
<p>Per programar el desplaçament de l&#8217;adreça, utilitzeu una gota de soldadura per connectar el pont d&#8217;adreça corresponent per a cada "1" binari de l&#8217;adreça.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Placa 0: Adreça = 0x40 Desplaçament = 00000 binari (no calen ponts)</p>
</li>
<li>
<p>Placa 1: Adreça = 0x41 Desplaçament = binari 00001 (pont A0 com a la foto de dalt)</p>
</li>
<li>
<p>Placa 2: Adreça = 0x42 Desplaçament = 00010 binari (pont A1)</p>
</li>
<li>
<p>Placa 3: Adreça = 0x43 Desplaçament = 00011 binari (pont A0 i A1)</p>
</li>
<li>
<p>Placa 4: Adreça = 0x44 Desplaçament = 00100 binari (pont A2)</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Al vostre esbós, haureu de declarar un objecte separat per a cada tauler. Comenceu a cridar a cada objecte i controleu cada servo a través de l&#8217;objecte al qual està connectat. Per exemple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-arduino" data-lang="arduino">#include &lt;Wire.h&gt;
#include &lt;Adafruit_PWMServoDriver.h&gt;

Adafruit_PWMServoDriver pwm1 = Adafruit_PWMServoDriver(0x40);
Adafruit_PWMServoDriver pwm2 = Adafruit_PWMServoDriver(0x41);

void setup() {
  Serial.begin(9600);
  Serial.println("16 channel PWM test!");

  pwm1.begin();
  pwm1.setPWMFreq(1600);  // This is the maximum PWM frequency

  pwm2.begin();
  pwm2.setPWMFreq(1600);  // This is the maximum PWM frequency
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ús_de_la_biblioteca_adafruit">Ús de la biblioteca Adafruit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Com que el Servo Driver PWM es controla mitjançant I2C, és molt fàcil d&#8217;utilitzar amb qualsevol microcontrolador o microordinador. En aquesta demostració mostrarem com utilitzar-lo amb l&#8217;IDE d&#8217;Arduino, però el codi C++ es pot portar fàcilment.</p>
</div>
<div class="sect2">
<h3 id="_installeu_la_biblioteca_adafruit_pca9685">Instal·leu la biblioteca Adafruit PCA9685</h3>
<div class="paragraph">
<p>Per començar a llegir les dades del sensor, haureu d&#8217;instal·lar la biblioteca Adafruit_PWMServo (codi al nostre repositori github). Està disponible al gestor de biblioteques d&#8217;Arduino, per la qual cosa us recomanem que l&#8217;utilitzeu.</p>
</div>
<div class="paragraph">
<p>Des de l&#8217;IDE obriu el gestor de biblioteques&#8230;&#8203;</p>
</div>
<div id="img-pca9685-14" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig14-obrir%20gestor%20biblio.png" alt="Obrir gestor bibioteques">
</div>
<div class="title">Figure 14. Obrir gestor biblioteques</div>
</div>
<div class="paragraph">
<p>I escriviu <strong>adafruit pwm</strong> per localitzar la biblioteca. Feu clic a <strong>Instal·la</strong></p>
</div>
<div id="img-pca9685-15" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig15-Biblioteca%20Adafruit%20PWM%20servo%20driver.png" alt="Gestor biblioteques">
</div>
<div class="title">Figure 15. Gestor biblioteques</div>
</div>
<div class="paragraph">
<p>També tenim un gran tutorial sobre la instal·lació de la biblioteca Arduino a:
<a href="http://learn.adafruit.com/adafruit-all-about-arduino-libraries-install-use" class="bare">http://learn.adafruit.com/adafruit-all-about-arduino-libraries-install-use</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_prova_amb_el_codi_dexemple">Prova amb el codi d&#8217;exemple:</h3>
<div class="paragraph">
<p>Primer assegureu-vos que totes les còpies de l&#8217;IDE d&#8217;Arduino estiguin tancades.</p>
</div>
<div class="paragraph">
<p>A continuació, obriu l&#8217;IDE d&#8217;Arduino i seleccioneu <strong>Fitxer&#8594;Examples&#8594;Adafruit_PWMServoDriver&#8594;Servo</strong>. Això obrirà el fitxer d&#8217;exemple en una finestra IDE.</p>
</div>
<div id="img-pca9685-16" class="imageblock">
<div class="content">
<img src="./Images/PCA9685-fig16.png" alt="Obrir exemple">
</div>
<div class="title">Figure 16. Obrir exemple</div>
</div>
<div class="paragraph">
<p>Si utilitzeu una placa de components (breakout):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Connecteu la placa del controlador i el servo com es mostra a la pàgina anterior. No us oblideu de proporcionar energia tant a Vin (nivell lògic de 3-5V) com a V+ (alimentació servo de 5V). Comproveu que el LED verd estigui encès!</pre>
</div>
</div>
<div class="paragraph">
<p>Si utilitzeu un escut:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Connecteu l'escut al vostre Arduino. No oblidis que també hauràs de proporcionar 5V al bloc de terminals V+. Els LED vermells i verds han d'estar encesos.</pre>
</div>
</div>
<div class="paragraph">
<p>Si utilitzeu un FeatherWing:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Connecteu el FeatherWing al vostre Feather. No oblidis que també hauràs de proporcionar 5V al bloc de terminals V+. Comproveu que el LED verd estigui encès!</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connecteu_un_servo">Connecteu un servo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>S&#8217;ha de connectar un únic servo al port PWM #0, el primer port. Hauríeu de veure el servo escombrat cap endavant i cap enrere durant aproximadament 180 graus.</p>
</div>
<div class="sect2">
<h3 id="_calibrant_els_teus_servos">Calibrant els teus servos</h3>
<div class="paragraph">
<p>El temps de pols del servo varia entre diferents marques i models. Com que és un circuit de control analògic, sovint hi ha alguna variació entre mostres de la mateixa marca i model. Per a un control precís de la posició, voldreu calibrar l&#8217;amplada de pols mínima i màxima del vostre codi perquè coincideixi amb les posicions conegudes del servo.</p>
</div>
<div class="paragraph">
<p><strong>Troba el mínim:</strong></p>
</div>
<div class="paragraph">
<p>Utilitzant el codi d&#8217;exemple, editeu SERVOMIN fins que el punt baix de l&#8217;escombrat arribi al rang mínim de recorregut. El millor és acostar-s&#8217;hi de manera gradual i aturar-se abans que s&#8217;arribi al límit físic del viatge.</p>
</div>
<div class="paragraph">
<p><strong>Troba el màxim:</strong></p>
</div>
<div class="paragraph">
<p>De nou, utilitzant el codi d&#8217;exemple, editeu SERVOMAX fins que el punt més alt de l&#8217;escombrat arribi al rang màxim de recorregut. De nou, el millor és apropar-se a això gradualment i aturar-se abans que s&#8217;arribi al límit físic del viatge.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">ATENCIÓ</div>
<div class="paragraph">
<p>Tingueu precaució quan ajusteu SERVOMIN i SERVOMAX. Assolir els límits físics del viatge pot treure els engranatges i danyar permanentment el vostre servo.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversió_de_graus_a_longitud_de_pols">Conversió de graus a longitud de pols</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La <a href="http://arduino.cc/en/Reference/Map">funció "map()" d&#8217;Arduino</a> (<a href="https://adafru.it/aQm" class="bare">https://adafru.it/aQm</a>) és una manera senzilla de convertir entre graus de rotació i les longituds de pols calibrades SERVOMIN i SERVOMAX. Assumint un servo típic amb 180 graus de rotació; Un cop hàgiu calibrat SERVOMIN a la posició de 0 graus i SERVOMAX a la posició de 180 graus, podeu convertir qualsevol angle entre 0 i 180 graus a la longitud de pols corresponent amb la següent línia de codi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Arduino" data-lang="Arduino">pulselength = map(degrees, 0, 180, SERVOMIN, SERVOMAX);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_referència_de_la_biblioteca">Referència de la biblioteca</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_setpwmfreqfreq">setPWMFreq(freq)</h3>
<div class="paragraph">
<p><strong>Descripció</strong></p>
</div>
<div class="paragraph">
<p>Aquesta funció es pot utilitzar per ajustar la freqüència PWM, que determina quants "polsos" complets per segon genera el CI. Dit d&#8217;una altra manera, la freqüència determina la durada de cada pols des del principi fins al final, tenint en compte tant els segments alts com els baixos del pols.</p>
</div>
<div class="paragraph">
<p>La freqüència és important en PWM, ja que establir la freqüència massa alta amb un cicle de treball molt petit pot causar problemes, ja que el "temps de pujada" del senyal (el temps que triga a passar de 0V a VCC) pot ser més llarg que el temps que el senyal està actiu i la sortida PWM es veurà suavitzada i pot ser que ni tan sols arribi a VCC, la qual cosa podria causar diversos problemes.</p>
</div>
<div class="paragraph">
<p><strong>Arguments</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>freq</code>: un nombre que representa la freqüència en Hz, entre 40 i 1600</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Exemple</strong></p>
</div>
<div class="paragraph">
<p>El codi següent establirà la freqüència PWM a 1000 Hz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Arduino" data-lang="Arduino">pwm.setPWMFreq(1000)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setpwm_canal_activat_desactivat">setPWM (canal, activat, desactivat)</h3>
<div class="paragraph">
<p><strong>Descripció</strong></p>
</div>
<div class="paragraph">
<p>Aquesta funció estableix l&#8217;inici (activat) i el final (desactivat) del segment alt del pols PWM en un canal específic. Especifiqueu el valor "tick" entre 0..4095 quan s&#8217;activarà el senyal i quan s&#8217;apagarà. El canal indica quines de les 16 sortides PWM s&#8217;han d&#8217;actualitzar amb els nous valors.</p>
</div>
<div class="paragraph">
<p><strong>Arguments</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>canal</code>: el canal que s&#8217;ha d&#8217;actualitzar amb els nous valors (0..15)</p>
</li>
<li>
<p><code>on</code>: La marca (entre 0..4095) quan el senyal hauria de passar de baix a alt</p>
</li>
<li>
<p><code>off</code>: la marca (entre 0..4095) quan el senyal hauria de passar d&#8217;alt a baix</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Exemple</strong></p>
</div>
<div class="paragraph">
<p>L&#8217;exemple següent farà que el canal 15 comenci a baix, augmenti al voltant del 25% al pols (marqueu 1024 de 4096), torni al 75% baix al pols (marqueu 3072) i es mantingui baix durant l&#8217;últim 25% de el pols:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Arduino" data-lang="Arduino">pwm.setPWM(15, 1024, 3072)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ús_com_a_gpio">Ús com a GPIO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>També hi ha alguns paràmetres especials per activar o desactivar completament els pins</p>
</div>
<div class="paragraph">
<p>Podeu configurar el pin perquè estigui completament encès</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Arduino" data-lang="Arduino">pwm.setPWM(pin, 4096, 0);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Podeu configurar el pin perquè estigui completament apagat</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Arduino" data-lang="Arduino">pwm.setPWM(pin, 0, 4096);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentació_de_la_biblioteca_arduino">Documentació de la biblioteca Arduino</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://adafruit.github.io/Adafruit-PWM-Servo-Driver-Library/html/class_adafruit___p_w_m_servo_driver.html">Arduino Library Docs</a> (<a href="https://adafru.it/Au7" class="bare">https://adafru.it/Au7</a>)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descàrregues">Descàrregues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_fitxers">Fitxers</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cdn-shop.adafruit.com/datasheets/PCA9685.pdf">Full de dades PCA9685 (anglès)</a></p>
</li>
<li>
<p><a href="https://github.com/adafruit/Adafruit-PWM-Servo-Driver-Library">Biblioteca de controladors Arduino (anglès)</a></p>
</li>
<li>
<p><a href="https://github.com/adafruit/Adafruit-16-Channel-PWM-Servo-Driver-PCB">Fitxers EagleCAD PCB a GitHub (anglès)</a></p>
</li>
<li>
<p><a href="https://github.com/adafruit/Fritzing-Library">Objecte Fritzing a la biblioteca Adafruit Fritzing</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-10-05 01:16:34 +0200
</div>
</div>
</body>
</html>